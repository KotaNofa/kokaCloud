<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" type="text/css" href="/style.css?version=1">
  <script src="/loadhead.js" defer></script>
  <script src="/loadnav.js" defer></script> 
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>


  <body>
  <div class="navbar-container"></div>
  <div class="generic-container">
    <div class="generic-header-l">
      <h1>
        Misc projects I have going on!
      </h1>
    </div>

    <div class="generic-post">
      <h2>Hey! This part of the site is unfinished. Sorry!</h2>
      <br><h3>TODO: fix the flashing of unstylized content</h3>
      <br><h3>TODO: add different media types for backgrounds, esp JXL</h3>
      <br><h3>TODO: i wanna add a visitor count button or something</h3>
      <br><h3>TODO: switch to nodejs backend maybe?</h3>
      <br><h3>TODO: need to implement minecraft server status</h3>
    oh right...
    </div>

    <br>

    <div class="generic-post">
      <h2>I have a minecraft server!</h2><br>
      <h3>its vanilla 1.21.4, ip is this domain, uh, havent implemented a status indicator yet though...</h3>
    </div>

    <div class="status"></div>


  </div>
</div>

<script>
  async function fetchServerStatus() {
    try {
      const response = await fetch('/mcstats');
      const data = await response.json();

      if (response.ok) {
        document.getElementById('status').innerHTML = 
          `        
          <h2>Server is Online</h2>
          <p>Host: ${data.host}</p>
          <p>Players Online: ${data.players.online}</p>
          <p>Version: ${data.version.name}</p>
          `;
      } else {
        document.getElementById('status').innerHTML =
        `
        <h2>Server is offline :(</h2>
        <p>${data.error}</p>
        `;
      }
    } catch (error) {
      document.getElementById('status').innerHTML = `
        <h2>Unable to fetch server status</h2>
        <p>Error: ${error.message}</p>
        `;
    }
  }
  window.onload = fetchServerStatus;
</script>

</body>
</html>
